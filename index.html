<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulaƒçka | Pro3D.sk</title>
    <style>
        :root {
            --primary: #2563eb;
            --bg: #f8fafc;
            --card: #ffffff;
            --text: #1e293b;
            --input-border: #e2e8f0;
        }

        [data-theme="dark"] {
            --primary: #3b82f6;
            --bg: #0f172a;
            --card: #1e293b;
            --text: #f1f5f9;
            --input-border: #334155;
        }

        body {
            font-family: 'Inter', system-ui, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            display: flex;
            justify-content: center;
            padding: 20px;
            margin: 0;
            transition: background 0.3s, color 0.3s;
        }

        .container {
            background: var(--card);
            max-width: 450px;
            width: 100%;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            position: relative;
        }

        /* Logo a Header */
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .logo {
            max-width: 150px;
            margin-bottom: 10px;
        }

        /* Prep√≠naƒç re≈æimu */
        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            color: var(--text);
        }

        .input-group { margin-bottom: 15px; }
        label { display: block; font-weight: 600; font-size: 0.8rem; margin-bottom: 5px; text-transform: uppercase; color: #64748b; }
        input, select { 
            width: 100%; padding: 12px; border: 2px solid var(--input-border); 
            border-radius: 10px; font-size: 1rem; box-sizing: border-box;
            background: var(--card); color: var(--text);
        }

        .result-box {
            background: var(--primary);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-top: 25px;
        }
        .price-value { font-size: 2.2rem; font-weight: 800; display: block; margin: 5px 0; }
        
        .btn-reset {
            width: 100%;
            background: none;
            border: 1px solid var(--input-border);
            color: var(--text);
            padding: 10px;
            border-radius: 10px;
            margin-top: 15px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .details {
            font-size: 0.8rem;
            border-top: 1px solid rgba(255,255,255,0.2);
            padding-top: 10px;
            margin-top: 10px;
            text-align: left;
            line-height: 1.5;
        }
    </style>
</head>
<body data-theme="light">

<div class="container">
    <button class="theme-toggle" onclick="toggleTheme()" id="themeBtn">üåô</button>
    
    <div class="header">
        <img src="https://pro3d.sk/wp-content/uploads/2023/10/logo_pro3d_horizontal.png" alt="Pro3D.sk Logo" class="logo">
        <div style="font-size: 0.8rem; opacity: 0.7;">Bambu Lab X1C Kalkulaƒçka</div>
    </div>

    <div class="input-group">
        <label>Materi√°l</label>
        <select id="mat" onchange="calc()">
            <option value="22">PLA (Eco-Friendly)</option>
            <option value="25">PETG (Odoln√Ω)</option>
            <option value="35">ASA (UV / Technick√Ω)</option>
            <option value="45">TPU (Flexibiln√Ω)</option>
        </select>
    </div>

    <div class="input-group" style="display: flex; gap: 10px;">
        <div style="flex: 1;">
            <label>V√°ha (g)</label>
            <input type="number" id="weight" placeholder="0" oninput="calc()">
        </div>
        <div style="flex: 1;">
            <label>ƒåas (hod)</label>
            <input type="number" id="time" placeholder="0" step="0.1" oninput="calc()">
        </div>
    </div>

    <div class="input-group">
        <label>Pr√≠prava (min√∫ty)</label>
        <input type="number" id="work" value="10" oninput="calc()">
    </div>

    <div class="result-box">
        <span style="font-size: 0.8rem;">Odhadovan√° cena</span>
        <span class="price-value" id="total">0.00 ‚Ç¨</span>
        <div class="details" id="details">Zadajte √∫daje pre v√Ωpoƒçet...</div>
    </div>

    <button class="btn-reset" onclick="resetForm()">Vynulova≈•</button>

</div>

<script>
    function toggleTheme() {
        const body = document.body;
        const btn = document.getElementById('themeBtn');
        if (body.getAttribute('data-theme') === 'light') {
            body.setAttribute('data-theme', 'dark');
            btn.innerText = '‚òÄÔ∏è';
        } else {
            body.setAttribute('data-theme', 'light');
            btn.innerText = 'üåô';
        }
    }

    function resetForm() {
        document.getElementById('weight').value = '';
        document.getElementById('time').value = '';
        document.getElementById('work').value = 10;
        calc();
    }

    function calc() {
        const weight = parseFloat(document.getElementById('weight').value) || 0;
        const time = parseFloat(document.getElementById('time').value) || 0;
        const work = parseFloat(document.getElementById('work').value) || 0;
        const matPrice = parseFloat(document.getElementById('mat').value);
        
        // Nastavenia (uprav podƒæa potreby)
        const machineHourly = 0.65; // Amortiz√°cia + elektrina
        const laborHourly = 15.00; 
        const margin = 1.30; // 30% zisk

        const costMat = (weight / 1000) * matPrice * 1.1;
        const costMachine = time * machineHourly;
        const costLabor = (work / 60) * laborHourly;
        
        const final = (costMat + costMachine + costLabor) * margin;

        if(final > 0) {
            document.getElementById('total').innerText = final.toFixed(2) + " ‚Ç¨";
            document.getElementById('details').innerHTML = `
                ‚Ä¢ Materi√°l: ${costMat.toFixed(2)} ‚Ç¨<br>
                ‚Ä¢ Stroj: ${costMachine.
